{"version":3,"sources":["./src/app/forms/forms.module.ts","./src/app/forms/forms-routing.module.ts","./src/app/problems.service.ts","./src/app/forms/forms.page.html","./src/app/forms/forms.page.ts","./src/app/forms/forms.page.scss"],"names":[],"mappings":"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","file":"forms-forms-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FormsPageRoutingModule } from './forms-routing.module';\r\n\r\nimport { FormsPage } from './forms.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FormsPageRoutingModule\r\n  ],\r\n  declarations: [FormsPage]\r\n})\r\nexport class FormsPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FormsPage } from './forms.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FormsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FormsPageRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AlertController } from '@ionic/angular';\r\ndeclare var google;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProblemsService {\r\n\r\n  constructor(\r\n    public firestore: AngularFirestore, // firestore\r\n    \r\n  ) { }\r\n\r\n  reportProblems(type, duration,severe, comment,lat,lng ) {\r\n    let id = this.firestore.createId()\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"DashProblems\").doc(id).set({\r\n        problemType:type,\r\n        duration:duration,\r\n        severity:severe,\r\n        comment:comment,\r\n      //  picture:picture,\r\n        lat:lat,\r\n        lng:lng\r\n      }).then(()=>{\r\n\r\n      }).catch((error)=>{\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getProblem(){\r\n   return new Promise((res, rej)=>{\r\n     this.firestore.collection(\"DashProblems\").valueChanges().subscribe((items)=>{\r\n       res(items)\r\n     })\r\n\r\n   }) \r\n  }\r\n\r\n\r\n\r\n  getFacilities(){\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"addFacility\").valueChanges().subscribe((items)=>{\r\n        res(items)\r\n      })\r\n \r\n    }) \r\n   }\r\n\r\n\r\n   getannoucements(){\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"Announcements\").valueChanges().subscribe((items)=>{\r\n        res(items)\r\n      })\r\n \r\n    }) \r\n   }\r\n\r\n\r\n\r\n   makeBookings(name, email,cell, date, people, description  ) {\r\n       let id = this.firestore.createId()\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"Bookings\").doc(id).set({\r\n        \r\n        name:name,\r\n        email,\r\n        date:date,\r\n        people,\r\n        description,\r\n        cell:cell\r\n       \r\n      }).then(()=>{\r\n        res('')\r\n\r\n      }).catch((error)=>{\r\n        rej(error)\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getLocation() {\r\n    //-28.74378920728236, 24.765178509039064\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        var geocoder = new google.maps.Geocoder;\r\n        var latlng = { lat:-28.74378920728236, lng:24.765178509039064};\r\n        geocoder.geocode({ 'location': latlng }, function (results, status) {\r\n          var address = results[0].address_components[3].short_name;\r\n           console.log(address);\r\n          console.log(results[0]);\r\n          resolve(address)\r\n        }, 8000);\r\n\r\n      })\r\n\r\n\r\n    })\r\n  }\r\n}\r\n\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title style=\\\"text-align: center\\\">Fill in the Forms</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"container mt-5\\\">\\r\\n  <div class=\\\"card \\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label class=\\\"pt-3\\\" style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Name</label\\r\\n          >\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"name\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Email</label\\r\\n          >\\r\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"email\\\" />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Cell phone</label\\r\\n          >\\r\\n          <input\\r\\n            type=\\\"tel\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            maxlength=\\\"10\\\"\\r\\n            [(ngModel)]=\\\"cell\\\"\\r\\n          />\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >Start date</label\\r\\n        >\\r\\n        <input type=\\\"date\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"dateS\\\" />\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >End date</label\\r\\n        >\\r\\n        <input type=\\\"date\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"dateE\\\" />\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >Number of People</label\\r\\n        >\\r\\n        <input type=\\\"number\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"number\\\" />\\r\\n\\r\\n        <ion-list>\\r\\n          <ion-list-header>\\r\\n            <ion-label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\">\\r\\n              Description\\r\\n            </ion-label>\\r\\n          </ion-list-header>\\r\\n\\r\\n          <textarea\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"Please provide add description to let us better understand your reason for booking this facility\\\"\\r\\n            [(ngModel)]=\\\"description\\\"\\r\\n          ></textarea>\\r\\n        </ion-list>\\r\\n      </div>\\r\\n\\r\\n      <button (click)=\\\"makeBookings()\\\" class=\\\"btn mb-3\\\" >BOOK</button>\\r\\n    </div>\\r\\n\\r\\n    </div>\\r\\n    \\r\\n      \\r\\n  </div>\\r\\n\\r\\n  \\r\\n</ion-content>\\r\\n\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { ProblemsService } from \"../problems.service\";\r\n\r\nimport { AlertController } from \"@ionic/angular\";\r\n@Component({\r\n  selector: \"app-forms\",\r\n  templateUrl: \"./forms.page.html\",\r\n  styleUrls: [\"./forms.page.scss\"],\r\n})\r\nexport class FormsPage implements OnInit {\r\n  name;\r\n  email;\r\n  dateS;\r\n  dateE;\r\n  cell;\r\n  number;\r\n  description;\r\n\r\n  constructor(\r\n    public firebase: ProblemsService,\r\n    public alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  makeBookings() {\r\n    console.log(this.name);\r\n    console.log(this.email);\r\n    console.log(this.cell);\r\n    console.log(this.dateS);\r\n    console.log(this.dateE);\r\n    console.log(this.number);\r\n    console.log(this.description);\r\n    this.firebase\r\n      .makeBookings(\r\n        this.name,\r\n        this.email,\r\n        this.cell,\r\n        this.dateS,\r\n        this.number,\r\n        this.description\r\n      )\r\n      .then(() => {\r\n        console.log(\"success\");\r\n      })\r\n      .then(() => {\r\n        this.presentAlert(\"Booked successfully\");\r\n        \r\n      });\r\n  }\r\n\r\n  async presentAlert(message) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Bookings\",\r\n      subHeader: \"Booking facility\",\r\n      message: message,\r\n    });\r\n    await alert.present();\r\n  }\r\n}\r\n","export default \".btn {\\n  background-color: #e97171;\\n  color: white;\\n  margin-left: 10%;\\n  width: 70%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGZvcm1zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUF5QjtFQUN6QixZQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLFVBQVU7QUFDZCIsImZpbGUiOiJmb3Jtcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5NzE3MTtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwJTtcclxuICAgIHdpZHRoOiA3MCU7XHJcbn0iXX0= */\";"],"sourceRoot":"webpack:///"}