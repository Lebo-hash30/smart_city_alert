{"version":3,"sources":["webpack:///src/app/forms/forms.module.ts","webpack:///src/app/forms/forms-routing.module.ts","webpack:///src/app/problems.service.ts","webpack:///src/app/forms/forms.page.html","webpack:///src/app/forms/forms.page.ts","webpack:///src/app/forms/forms.page.scss"],"names":["FormsPageModule","imports","declarations","routes","path","component","FormsPageRoutingModule","forChild","exports","ProblemsService","firestore","type","duration","severe","comment","lat","lng","id","createId","Promise","res","rej","collection","doc","set","problemType","severity","then","error","valueChanges","subscribe","items","name","email","cell","date","people","description","resolve","reject","setTimeout","geocoder","google","maps","Geocoder","latlng","geocode","results","status","address","address_components","short_name","console","log","providedIn","FormsPage","firebase","alertController","dateS","dateE","number","makeBookings","presentAlert","message","create","cssClass","header","subHeader","alert","present","selector","template"],"mappings":"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","file":"forms-forms-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FormsPageRoutingModule } from './forms-routing.module';\r\n\r\nimport { FormsPage } from './forms.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FormsPageRoutingModule\r\n  ],\r\n  declarations: [FormsPage]\r\n})\r\nexport class FormsPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FormsPage } from './forms.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FormsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FormsPageRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AlertController } from '@ionic/angular';\r\ndeclare var google;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProblemsService {\r\n\r\n  constructor(\r\n    public firestore: AngularFirestore, // firestore\r\n    \r\n  ) { }\r\n\r\n  reportProblems(type, duration,severe, comment,lat,lng ) {\r\n    let id = this.firestore.createId()\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"DashProblems\").doc(id).set({\r\n        problemType:type,\r\n        duration:duration,\r\n        severity:severe,\r\n        comment:comment,\r\n      //  picture:picture,\r\n        lat:lat,\r\n        lng:lng\r\n      }).then(()=>{\r\n\r\n      }).catch((error)=>{\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getProblem(){\r\n   return new Promise((res, rej)=>{\r\n     this.firestore.collection(\"DashProblems\").valueChanges().subscribe((items)=>{\r\n       res(items)\r\n     })\r\n\r\n   }) \r\n  }\r\n\r\n\r\n\r\n  getFacilities(){\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"addFacility\").valueChanges().subscribe((items)=>{\r\n        res(items)\r\n      })\r\n \r\n    }) \r\n   }\r\n\r\n\r\n   getannoucements(){\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"Announcements\").valueChanges().subscribe((items)=>{\r\n        res(items)\r\n      })\r\n \r\n    }) \r\n   }\r\n\r\n\r\n\r\n   makeBookings(name, email,cell, date, people, description  ) {\r\n       let id = this.firestore.createId()\r\n    return new Promise((res, rej)=>{\r\n      this.firestore.collection(\"Bookings\").doc(id).set({\r\n        \r\n        name:name,\r\n        email,\r\n        date:date,\r\n        people,\r\n        description,\r\n        cell:cell\r\n       \r\n      }).then(()=>{\r\n        res('')\r\n\r\n      }).catch((error)=>{\r\n        rej(error)\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  getLocation() {\r\n    //-28.74378920728236, 24.765178509039064\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        var geocoder = new google.maps.Geocoder;\r\n        var latlng = { lat:-28.74378920728236, lng:24.765178509039064};\r\n        geocoder.geocode({ 'location': latlng }, function (results, status) {\r\n          var address = results[0].address_components[3].short_name;\r\n           console.log(address);\r\n          console.log(results[0]);\r\n          resolve(address)\r\n        }, 8000);\r\n\r\n      })\r\n\r\n\r\n    })\r\n  }\r\n}\r\n\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title style=\\\"text-align: center\\\">Fill in the Forms</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"container mt-5\\\">\\r\\n  <div class=\\\"card \\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label class=\\\"pt-3\\\" style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Name</label\\r\\n          >\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"name\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Email</label\\r\\n          >\\r\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"email\\\" />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group col-md-6\\\">\\r\\n          <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n            >Cell phone</label\\r\\n          >\\r\\n          <input\\r\\n            type=\\\"tel\\\"\\r\\n            class=\\\"form-control\\\"\\r\\n            maxlength=\\\"10\\\"\\r\\n            [(ngModel)]=\\\"cell\\\"\\r\\n          />\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >Start date</label\\r\\n        >\\r\\n        <input type=\\\"date\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"dateS\\\" />\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >End date</label\\r\\n        >\\r\\n        <input type=\\\"date\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"dateE\\\" />\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\"\\r\\n          >Number of People</label\\r\\n        >\\r\\n        <input type=\\\"number\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"number\\\" />\\r\\n\\r\\n        <ion-list>\\r\\n          <ion-list-header>\\r\\n            <ion-label style=\\\"color: rgb(47, 79, 63); font-weight: bolder\\\">\\r\\n              Description\\r\\n            </ion-label>\\r\\n          </ion-list-header>\\r\\n\\r\\n          <textarea\\r\\n            class=\\\"form-control\\\"\\r\\n            placeholder=\\\"Please provide add description to let us better understand your reason for booking this facility\\\"\\r\\n            [(ngModel)]=\\\"description\\\"\\r\\n          ></textarea>\\r\\n        </ion-list>\\r\\n      </div>\\r\\n\\r\\n      <button (click)=\\\"makeBookings()\\\" class=\\\"btn mb-3\\\" >BOOK</button>\\r\\n    </div>\\r\\n\\r\\n    </div>\\r\\n    \\r\\n      \\r\\n  </div>\\r\\n\\r\\n  \\r\\n</ion-content>\\r\\n\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { ProblemsService } from \"../problems.service\";\r\n\r\nimport { AlertController } from \"@ionic/angular\";\r\n@Component({\r\n  selector: \"app-forms\",\r\n  templateUrl: \"./forms.page.html\",\r\n  styleUrls: [\"./forms.page.scss\"],\r\n})\r\nexport class FormsPage implements OnInit {\r\n  name;\r\n  email;\r\n  dateS;\r\n  dateE;\r\n  cell;\r\n  number;\r\n  description;\r\n\r\n  constructor(\r\n    public firebase: ProblemsService,\r\n    public alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  makeBookings() {\r\n    console.log(this.name);\r\n    console.log(this.email);\r\n    console.log(this.cell);\r\n    console.log(this.dateS);\r\n    console.log(this.dateE);\r\n    console.log(this.number);\r\n    console.log(this.description);\r\n    this.firebase\r\n      .makeBookings(\r\n        this.name,\r\n        this.email,\r\n        this.cell,\r\n        this.dateS,\r\n        this.number,\r\n        this.description\r\n      )\r\n      .then(() => {\r\n        console.log(\"success\");\r\n      })\r\n      .then(() => {\r\n        this.presentAlert(\"Booked successfully\");\r\n        \r\n      });\r\n  }\r\n\r\n  async presentAlert(message) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Bookings\",\r\n      subHeader: \"Booking facility\",\r\n      message: message,\r\n    });\r\n    await alert.present();\r\n  }\r\n}\r\n","export default \".btn {\\n  background-color: #e97171;\\n  color: white;\\n  margin-left: 10%;\\n  width: 70%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGZvcm1zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUF5QjtFQUN6QixZQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLFVBQVU7QUFDZCIsImZpbGUiOiJmb3Jtcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5NzE3MTtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwJTtcclxuICAgIHdpZHRoOiA3MCU7XHJcbn0iXX0= */\";"]}